/* slideswap v1.0.0 | https://stamat.github.io/slideswap/ | MIT License */
(()=>{function n(t,e){for(const i in e)t[i]=e[i];return t}var l=class{constructor(t,e){if(this.element=t,this.currentIndex=0,this.slides=null,this.maxHeight=0,this.options={infinite:!1,activeClass:"slideswap-current-slide",slideClass:"js-slideswap",start:0,adaptiveHeight:!0,next:null,prev:null,imageClass:"js-slideswap-image"},typeof t=="string"&&(this.element=document.querySelector(t)),!this.element||!(this.element instanceof HTMLElement))throw new Error("slideswap: element property not provided, or element not found");if(this.element.getAttribute("data-slideswap-initialized")==="true")throw new Error("slideswap: element already initialized");n(this.options,e),this.bindControls(),this.slides=this.element.querySelectorAll(`.${this.options.slideClass}`),this.setCurrentSlide(this.options.start),this.element.setAttribute("data-slideswap-initialized","true"),this.setupSlides()}bindControls(){!this.options.next&&!this.options.prev||(this.options.next=typeof this.options.next=="string"?document.querySelector(this.options.next):this.options.next,this.options.prev=typeof this.options.prev=="string"?document.querySelector(this.options.prev):this.options.prev,this.options.next&&this.options.next.addEventListener("click",this.next.bind(this)),this.options.prev&&this.options.prev.addEventListener("click",this.previous.bind(this)))}setupSlides(){for(let t=0;t<this.slides.length;t++){const e=this.slides[t];e.setAttribute("data-slideswap-index",t),this.maxHeight=Math.max(this.maxHeight,e.offsetHeight)}this.options.adaptiveHeight||(this.element.style.height=`${this.maxHeight}px`)}setCurrentSlide(t){if(t<0||t>=this.slides.length)return;this.currentIndex=t;const e=this.slides[t];if(e.classList.add(this.options.activeClass),e.removeAttribute("aria-hidden"),e.setAttribute("tabindex","0"),e.style.zIndex=1,e.style.opacity=1,e.style.pointerEvents="auto",this.options.adaptiveHeight){this.element.style.height=`${e.offsetHeight}px`;const i=this.getCurrentSlide().querySelector(`.${this.options.imageClass}`);i&&i.addEventListener("load",()=>{this.element.style.height=`${e.offsetHeight}px`})}for(let i=0;i<this.slides.length;i++){const s=this.slides[i];i!==t&&(s.classList.remove(this.options.activeClass),s.setAttribute("aria-hidden","true"),s.setAttribute("tabindex","-1"),s.style.zIndex=0,s.style.opacity=0,s.style.pointerEvents="none")}}getCurrentIndex(){return this.currentIndex}getCurrentSlide(){return this.slides[this.currentIndex]}getNextIndex(){return this.options.infinite?(this.currentIndex+1)%this.slides.length:this.currentIndex+1}getPreviousIndex(){return this.options.infinite?(this.currentIndex-1+this.slides.length)%this.slides.length:this.currentIndex-1}next(){this.setCurrentSlide(this.getNextIndex())}previous(){this.setCurrentSlide(this.getPreviousIndex())}destroy(){this.element=null,this.slides=null,this.options=null,this.currentIndex=null,this.maxHeight=null,this.options.next&&this.options.next.removeEventListener("click",this.next.bind(this)),this.options.prev&&this.options.prev.removeEventListener("click",this.previous.bind(this))}addSlide(t){this.element.appendChild(t),this.slides=this.element.querySelectorAll(`.${this.options.slideClass}`),this.setupSlides()}removeSlide(t){this.element.removeChild(this.slides[t]),this.slides=this.element.querySelectorAll(`.${this.options.slideClass}`),this.currentIndex>=this.slides.length&&this.setCurrentSlide(this.slides.length-1),this.setupSlides()}};window.Slideswap||(window.Slideswap=l)})();
